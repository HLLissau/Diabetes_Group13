<template>
<div>
<div id="titles"> 
  <div class="element"><a> User ID </a></div>
  <div class="element"><a> Doctor Name </a></div>
  <div class="element"><a> Full Name </a></div>
  <div class="element"><a> email-address </a></div>
  <div class="element"><a> password </a></div>
</div>
<div id="props"> 
  <div class="element" style="font-weight: bold;"><a> {{this.$backend.user.id}} </a>  </div>
  <div class="element" style="font-weight: bold;"><a> {{this.$backend.doctor.fullName}} </a></div>
  <div class="element"><a> {{this.$backend.user.fullName}} </a></div>
  <div class="element"><a> {{this.$backend.user.email}} </a></div>
  <div class="element"><a> ****** </a></div>
</div>
<div id="alter"> 
  <div class="invisibel"> invisibel </div>
  <div class="invisibel"> invisibel </div>
  <div class="element" v-on:click = "this.changeName = !this.changeName, this.changePassword = false, this.changeEmail = false, this.changeDoctor = false" > <img class="edit" src="../assets/editing.png" alt="Fejl" > </div>
  <div class="element" v-on:click = "this.changeEmail = !this.changeEmail, this.changePassword = false, this.changeName = false, this.changeDoctor = false" > <img class="edit" src="../assets/editing.png" alt="Fejl"> </div>
  <div class="element" v-on:click = "this.changePassword = !this.changePassword, this.changeEmail = false, this.changeName = false, this.changeDoctor = false" > <img class="edit" src="../assets/editing.png" alt="Fejl"> </div>
</div> <div id="inputs"> 
  <div class="invisibel"> d <input type="text" > </div>
  <div class="invisibel"> d <input type="text" > </div>
  <div :class="[changeName?'visibel':'invisibel']"> <input class="text" type="text" id="changedname" placeholder="new name">  <input class="button" type="submit"  @click="change()" value="Change"  > </div>
  <div :class="[changeEmail?'visibel':'invisibel']"> <input class="text" type="text" id="changedemail" placeholder="new email">   <input class="button" type="submit"  @click="change()" value="Change"  > </div>
  <div :class="[changePassword?'visibel':'invisibel']"> <input class="text" type="text" id="oldpassword" placeholder="old password"> <input class="text" type="text" id="newpassword" placeholder="new password"> <input class="button" type="submit"  @click="change()" value="Change"> 
</div>

</div>

</div>
</template>


<script>
export default {
  name: 'UserInfo',
  props: [],
  data() {
    return {   
        changeName: false,
        changeEmail: false,
        changePassword: false
    }
  },
  methods: {
    change(){
      console.log("kÃ¸rt")
      if (this.changeName){
        this.$regex.checkName(document.getElementById("changedname").value )
        this.$backend.user.fullName = document.getElementById("changedname").value
        this.changeName= false
      }
      if (this.changeEmail){
        this.$regex.checkEmail(document.getElementById("changedemail").value)
        this.$backend.user.email = document.getElementById("changedemail").value
        this.changeEmail= false
      } 
      if (this.changePassword){
        this.$regex.checkpassword(document.getElementById("oldpassword").value, this.$backend.user.password)
        this.$backend.user.password = document.getElementById("newpassword").value
        this.changePassword = false
      }
      console.log("url",this.$backend.getUrlUpdateUser())
            this.axios
        .get(this.$backend.getUrlUpdateUser())
        .then(res => {
          console.log("updated",res)
        })
             
    }
  },
      created(){
      console.log("propDoctor",this.doctor)
    }
}
</script>

<style>

div#titles{
  float: left;
  width: 15vw;
}
div#props{
  float: left;
  width: 15w;
}
div#alter{
  padding-left: 5vw;
  float:left;
  width: 15vw;
}
div#inputs{

}


img.edit{
  height: 60%;
  width: auto;
}
input.text{
  font-size: 1.8vw;
  height: 2vw;
  width: 12vw;
}
input.button{
  font-size: 1.8vw;
  height: 2.8vw;
}

.element{
  font-size: 1.8vw;
  height: 4vw;
}


.visibel{
  height: 4vw;
}
.invisibel{
  height: 4vw;
  visibility: hidden;
}


</style>
